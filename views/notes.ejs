<%- include("header.ejs") %>
<div class="container themed-container text-center">
    <div class="row mb-3 text-center">
    <% if(locals.notes.length > 0) { %>
        <% notes.forEach((note, index) => { %>
            <% 
                const colors = ['#FFDDC1', '#FFEBA1', '#A2D5F2', '#87CEEB', '#C8C6A7'];
                const backgroundColor = colors[index % colors.length]; 
            %>
            <div class="col-6 col-md-4 themed-grid-col note-container" style="background-color: <%= backgroundColor %>;">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#6C5B7B" class="bi bi-bookmark-fill" viewBox="0 0 16 16">
                    <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2"/>
                </svg>
                
                <!-- Dropdown for delete option -->
                <div class="dropdown">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#222831" class="bi bi-three-dots-vertical dropdown-toggle" viewBox="0 0 16 16" id="dropdownMenuButton<%= index %>" data-bs-toggle="dropdown" aria-expanded="false">
                        <path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/>
                    </svg>
                    <ul class="dropdown-menu custom-dropdown-menu" aria-labelledby="dropdownMenuButton<%= index %>">
                        <li>
                            <form action="/delete-note" method="POST">
                                <button class="edit small-delete-btn" type="submit" id="<%= note.id %>">
                                    <img class="icon" src="/images/trash.svg" alt="trash image">
                                </button>
                            </form>
                        </li>
                    </ul>
                </div>

                <h1><%= note.title %></h1>
                <p><%= note.note %></p>
            </div>
        <% }) %>
    <% } %>
    </div>
</div>
<%- include("footer.ejs") %>
